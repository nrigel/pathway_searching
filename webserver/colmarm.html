<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta http-equiv="Expires" content="Tue, 01 Jan 1995 12:12:12 GMT">
    <meta http-equiv="Pragma" content="no-cache">
    
    
<link rel="stylesheet" type="text/css" href="http://spin.ccic.osu.edu//mystyles2.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://spin.ccic.osu.edu/js/d3.min.js" ></script>
    <script type="text/javascript" src="http://spin.ccic.osu.edu/js/mylib/FileSaver.js"></script>
    <script type="text/javascript" src="http://spin.ccic.osu.edu/js/mylib/mylib1.js" ></script>
    <script type="text/javascript" src="http://spin.ccic.osu.edu/js/mylib/sorttable.js" ></script>
    <script type="text/javascript" src="http://spin.ccic.osu.edu/js/myplot/myplot1.js" ></script>
    <script type="text/javascript" src="http://spin.ccic.osu.edu/js/myplot/myplot3.js" ></script>
    <script type="text/javascript" src="http://spin.ccic.osu.edu/js/colmarm2.js" ></script>
    <title>COLMAR-Pathways</title>
    
    <style>

.overlay {
  fill: none;
  pointer-events: all;
}

.brush .extent {
  stroke: #fff;
  fill-opacity: .125;
  shape-rendering: crispEdges;
}

</style>
    
</head>



<body>
<div id="container">

    <div id="header">
         
    <div id="osu_navbar">

	<h2 class="osu-semantic">Ohio State Navbar</h2>
    
		<div class="univ_info">
			<p class="univ_name"><a href="http://osu.edu" title="The Ohio State University">The Ohio State University</a></p>
		</div>
		<div class="univ_links">
			<div class="links">
				<ul>
					<li><a href="http://www.osu.edu/help.php" class="help" title="Help">Help</a></li>
					<li><a href="http://buckeyelink.osu.edu/" class="buckeyelink" title="BuckeyeLink">BuckeyeLink</a></li>
					<li><a href="http://www.osu.edu/map/" class="map" title="Map">Map</a></li>
					<li><a href="http://www.osu.edu/findpeople.php" class="findpeople" title="Find People">Find People</a></li>
					<li><a href="https://email.osu.edu/" class="webmail" title="Webmail">Webmail</a></li> 
					<!--<li><a href="http://www.osu.edu/search/" class="search" title="Search">Search Ohio State</a></li>-->
				</ul>
			</div><!-- end links -->
			<div class="search">

<form action="http://www.osu.edu/search.html" method="get">

            	<legend><span class="osu-semantic">Search Ohio State</span></legend>
            	<label for="search-field" class="osu-semantic">Search Ohio State</label>
            	<input type="text" id="search-field" placeholder="Search Ohio State" name="query" value="">
            	<button type="submit" id="Search">Search</button>
            </form>
          </div><!-- end search -->
		</div><!-- end univ_links-->
	  </div>
        <div id="ccic">
        <a href="/" id="logo_ccic" > <img src="http://spin.ccic.osu.edu//img/ccic.jpg" alt="Home"></a>
        <a href="http://osu.edu" id="logo_osu" > <img src="http://spin.ccic.osu.edu//img/osu.jpg" alt="Home"></a>
        </div>

<!--
<div style="clear: both"></div>
<div>
    <h1>
        <font color="red">This server will be off line from 11:30 AM (Eastern Time DST), Sep. 26th, 2016 for about 1 hour for hardware replacement. </font>
    </h1>
</div>
-->
    </div>
    
    <div id="menu">
        <ul><li><a href="http://spin.ccic.osu.edu/index.php/colmar/index" class="btn">Home</a></li><li><a href="http://spin.ccic.osu.edu/index.php/covariance/index" class="btn">Covariance</a></li><li><a href="http://spin.ccic.osu.edu/index.php/demixc/index" class="btn">DemixC</a></li><li><a href="http://spin.ccic.osu.edu/index.php/query/index" class="btn">1D-Query</a></li><li><a href="http://spin.ccic.osu.edu/index.php/toccata2/index" class="btn"><sup>1</sup>H(<sup>13</sup>C)-TOCCATA</a></li><li><a href="http://spin.ccic.osu.edu/index.php/toccata/index" class="btn"><sup>13</sup>C-TOCCATA</a></li><li><a href="http://spin.ccic.osu.edu/index.php/hsqc/index" class="btn"><sup>13</sup>C-<sup>1</sup>H_HSQC</a></li><li><a href="http://spin.ccic.osu.edu/index.php/colmarm/index" class="btn0">COLMARm</a></li><li><a href="http://spin.ccic.osu.edu/index.php/tocsy/index" class="btn">TOCSY</a></li><li><a href="http://spin.ccic.osu.edu/index.php/colmar/document" class="btn">Documentation</a></li><li><a href="http://spin.ccic.osu.edu/index.php/colmar/download" class="btn">Download</a></li><li class='last'><a href="http://spin.ccic.ohio-state.edu/index.php/welcome/index" class="btn"><img width='23px' src=http://spin.ccic.osu.edu/img/home.png></a></li></ul>
    </div>

	<div id="body">
            
        <h2>COLMAR-Pathways</h2>
                 <img src="http://spin.ccic.osu.edu//img/new.png" width="30" >Visit a step by step how-to with figures <a href="javascript:void(0);" onclick="window.open('http://spin.ccic.osu.edu/index.php/colmarm/howto')">here</a></h3>
        <div style="clear: both"></div>  
       
        <div id="step1" class="topclass" style="width: 550px; height: 240px">
                <form action="http://spin.ccic.osu.edu/index.php/null/null" id="process" enctype="multipart/form-data" method="post" accept-charset="utf-8">
  
        <strong>STEP1</strong>, spectrum processing and peak picking:<br>
        <p>Your name and institute* <input type="text" name="username" value="" size="40"><br>
        Required HSQC spectrum file <input type="file" name="userfile" id="fileinput"><br>
        Optional TOCSY spectrum file <input type="file" name="userfile2" id="fileinput2"><br>
        Optional HSQC-TOCSY spectrum file <input type="file" name="userfile3" id="fileinput3"><br>
        Optional user chosen session name <input type="text" name="sessionname" value="noname" size="40"><br>
        (Notice: spectra files can be nmrpipe (.ft2), sparky (.ucsf), Topspin ASCII format (.txt)) or Mnova .csv format. The server use file extension to distinguish file format!.<br> 
        <input type="submit" id="button1" name="Submit" value="Upload spectrum for processing"></br></p>
        </form>        
        </div>
            
            
   
        <div id="step3" class="topclass" style="width: 500px; height: 240px">    
            <strong>STEP2</strong>, referencing<br> 
        Automatic <button id="cal_ref" onclick="autoref()"> calculating </button> by pattern matchings<br>   
          <input type="checkbox" name="name" value="value" onchange="check_change(1)" id="dss" checked> <font color="black">DSS</font>
          <input type="checkbox" name="name" value="value" onchange="check_change(2)" id="alanine" checked> <font color="darkgreen">Alanine</font>
          <input type="checkbox" name="name" value="value" onchange="check_change(3)" id="leucine" checked> <font color="magenta">Leucine</font>
          <input type="checkbox" name="name" value="value" onchange="check_change(4)" id="glucose" checked> <font color="cyan">Glucose</font>
          <input type="checkbox" name="name" value="value" onchange="check_change(5)" id="lactic" checked> <font color="orange">Lactic Acid</font>
          <br>
          When doing auto-referencing, matching at least <br><input type="text" id="matchpeak" value="19" size="2"> out of <input type="text" id="totalpeak" value="19" size="3" readonly /> known peaks.<br>
        <sup>1</sup>H: <input type="text" name="ref1" id="ref1" value="0.00" size="6"><sup>13</sup>C: <input type="text" name="ref2" id="ref2" value="0.00" size="6">
        <button id="doref" onclick="doref()"> Apply the calculated referencing </button><br>
        <br>
        </div>
            
 
            <div id="step4" class="topclass" style="width: 500px; height: 240px">
        <form action="http://spin.ccic.osu.edu/index.php/null/null" id="hsqc" method="post" accept-charset="utf-8">
	
            <strong>STEP3</strong>, database query and match:<br> 
        <sup>1</sup>H chemical shift cutoff (ppm): <input type="text" id="cutoff_h" name="cutoff_h" value="0.03" size="5">,&nbsp;<sup>13</sup>C chemical shift cutoff (ppm): <input type="text" id="cutoff_c" name="cutoff_c" value="0.3" size="5">,&nbsp;
        Matching ratio cutoff <input type="text" name="matching" id="matching" value="0.6" size="5">&nbsp;<br><br>
	<input type="hidden" id="dir" name="dir" value="dir">
        <input type="submit" id="button2" name="Submit" value="Submit"> data for database query and display.
        </form>        <br>
        </div>
        
        <div id="redo" class="topclass" style="width: 200px; height: 240px">
            <strong>Start over</strong><br><button id="button3" onclick="redo_step4()">Redo</button> peak picking, referencing and database query
        </div>

        
        <div id="step1" class="topclass" style="width: 400px; height: 240px">
                <form action="http://spin.ccic.osu.edu/index.php/null/null" id="process_load" method="post" accept-charset="utf-8">
  
        <strong>Load previous session:</strong><br>
        <!---<p>Your name and institute* <input type="text" name="username" value="" size="30"><br>-->
        You previous session id <input type="text" name="id" value="example" size="40"><br>
        <input type="submit" id="button11" name="Submit" value="load previous result"><br>
        (Type  "example" into session id box to load in model mixture example.)</p>
        </form>        
        </div>
        
        <div id="advance" hidden class="topclass" style="width: 400px; height: 240px">
        <form action="http://spin.ccic.osu.edu/index.php/null/null" id="process_load_query" method="post" accept-charset="utf-8">
  
        <input type="text" hidden name="id" id="session_id" value="example" size="40">
        <input type="submit" id="button12" name="Submit" value="Update matching result"><br>
        </form> 
        </div>
        
            
        <div style="clear: both"></div>    
        <div id="infor" style="color: red"> </div><br>
        
 
        
        <div id="plot"  class="topclass" style=" Padding: 10px; float: left">
            <strong>HSQC</strong>   Lowest contour level:  
             <input type="range" name="contour-lower" id="contour-lower" min="1" value="3" max="25" style="width:400px;"> =<span id="contour-value-lower"> 0</span><br> 
        <div id="message"></div>
        <hr>
        <strong>Control:</strong>
        Brush an area to <input type="radio" name="radio1" value="zoom" checked> Zoom in, or <input type="radio" name="radio1" value="remove"> remove peaks within this area. 
        <button onclick="resetzoom()">Reset all Zoom</button>,
        <button onclick="popzoom()">Zoom Back</button>,
        <button onclick="zoomout()">Zoom out 120%</button>
        
        <br>  
        <strong>Visualization:</strong> 
        <button onclick="toggle_contour()">Hide/Show contour lines</button>
        <button onclick="toggle_peak()">Hide/Show picked peaks</button>
        <button class="compound_button" onclick="show_match()">Hide/Show all matched compounds' peaks</button>    
        <br><br>
        
        <div style="float:left">
            Peak list:<br>
            <textarea style="resize: vertical;overflow-x: scroll"  wrap="off" form="hsqc" name="peaklist" id="peaklist" cols="12" rows="50" ></textarea><br>      
        <button onclick="saveTextAsFile()" style="width: 60px">Save Peaks as:</button><br>
        <input id="inputFileNameToSaveAs" style="width: 60px" value="peaks.txt"></input>
        </div>

        <div style="float:left"><svg id="visualisation"></svg></div> 
        <div style="float:left; width: 100%"><svg id="legend"></svg></div> 
        <div id="info_match"></div><br>
        </div>
        
        <div id="detail" style="clear: both">
        
        <div style="clear: both">
            
        <h4>Visualization options:  </h4> 
            <ul>
                <li>Zoom scale: <input type="range" name="scale" id="scale" min="1" value="1" max="10" style="width:300px;" onchange="scale_change(this.value)"></li>
                <li>plot size: <input type="range"  name="size"  id="size"  min="1" value="6" max="16" style="width:300px;" onchange="size_change(this.value)"></li>
                <li>Contour color: <input type="radio" name="color" value="gray" checked="checked"> Gray <input type="radio" name="color" value="colorful"> Colorful.</li>
                <li>Draw expected cross peaks from <input type="radio" name="peak" value="db" checked="checked"> database <input type="radio" name="peak" value="exp"> experimental <input type="radio" name="peak" value="mixed"> hybrid peaks or <input type="radio" name="peak" value="none"> does not draw.</li>
            </ul>
            
            Show detail of one matched spin-system: <button onclick = "compound_change(0)">Show previous compound</button><select id = "selected_compound" onchange = "show_compound()"></select><button onclick = "compound_change(2)">Show next compound</button>
        <button onclick = "label(1)">Good</button>
        <button onclick = "label(2)">Fair</button>
        <button onclick = "label(3)">Poor</button>
        <button onclick = "label(4)">Not sure</button><br>
        <span id="detail_info" style=""> </span>
        </div>
            

        
        <div style="float:left;">

    
        
            <svg id="legend" style=" width: 800px; height: 40px">
            <g class="legend" stroke="red">
            <circle r="5" fill-opacity="0" stroke="red" stroke-width="3" cx="20" cy="20"></circle>
            <text x="40" y="25" font-size="16" stroke="red">Data base peak</text>
            <circle r="5" fill-opacity="0" stroke="green" stroke-width="3" cx="220" cy="20"></circle>
            <text x="240" y="25" font-size="16" stroke="green">Matched experimental peak</text>
            <circle r="5" fill-opacity="0" stroke="magenta" stroke-width="3" cx="520" cy="20"></circle>
            <text x="540" y="25" font-size="16" stroke="magenta">Expected cross peaks</text>
            </g>
            </svg>
        </div> 
            
        <div style="clear: both">
        
        <div id="plot1" class="topclass" style="Padding: 10px; float: left;">
        <strong>HSQC</strong>   Lowest contour level:        
        <input type="range" name="contour1-lower" id="contour1-lower" min="1" value="3" max="25" style="width:150px;"> =<span id="contour1-value-lower"> 0</span><br><br> 
        <div style="float:left" id="vis1"><svg id="visualisation1" xmlns="http://www.w3.org/2000/svg" version="1.1"></svg></div> 
        </div>
        
        
        <div id="plot2" class="topclass" style="Padding: 10px; float: left;">
        <strong>TOCSY</strong>   Lowest contour level:        
        <input type="range" name="contour2-lower" id="contour2-lower" min="1" value="3" max="25" style="width:150px;"> =<span id="contour2-value-lower"> 0</span><br><br> 
        <div style="float:left" id="vis2"><svg id="visualisation2" xmlns="http://www.w3.org/2000/svg" version="1.1"></svg></div> 
        </div>
        
        
        
        <div id="plot3" class="topclass" style="Padding: 10px; float: left;">
        <strong>HSQC-TOCSY</strong>   Lowest contour level:        
        <input type="range" name="contour3-lower" id="contour3-lower" min="1" value="3" max="25" style="width:150px;"> =<span id="contour3-value-lower"> 0</span><br><br>   
        <!---<button id="doref" onclick="doref_3()"> Apply </button> manual referencing to hsqc-tocsy spectrum only 
        <sup>1</sup>H: <input type="text" name="ref31" id="ref31" value="0.00" size="6"><sup>13</sup>C: <input type="text" name="ref32" id="ref32" value="0.00" size="6"><br>-->
        <div style="float:left" id="vis3"><svg id="visualisation3" xmlns="http://www.w3.org/2000/svg" version="1.1"></svg></div> 
        </div>
        
        </div>
        

        
        
        <div id="reporting" class="topclass" style="width: 730px; Padding: 10px; float: left;">
            <strong>Save peak and compound information to local file</strong><br>
            Using <input type="radio" name="delimiter" value="space" checked> Space or <input type="radio" name="delimiter" value="comma"> Comma as delimiter.<br>
        <p><button onclick = "peak_report()">save peak report as </button> <input id="peak_report_name" style="width: 120px" value="peak_report.txt"></p>
        <p><button onclick = "compound_report()">save compound report as </button> <input id="compound_report_name" style="width: 120px" value="compound_report.txt"></p>
        <p><button id="save" onclick = "save()">save plot files</button></p>
        <p><button id="save2" onclick="save_vector()">save plot files in vector format</button></p>
        <canvas id="canvas" style="display: none"></canvas>
        </div>
        
        
        <div id="table_region" style="clear: both"> </div>
        
        <div style="clear: both"></div>   
        
        <div id="peak_info" style="width:inherit; text-align: center;"></div>
        
        
	</div>
        
        <div id="id_info" style="width:inherit; text-align: center;"></div
        
        <p>
        <img src="http://spin.ccic.osu.edu//img/database.png" width="30" >
        <a href="javascript:void(0);" onclick="window.open('http://spin.ccic.osu.edu/database/hsqc_compound_list.pdf')">List of compounds in our database</a>
        </p>

        
        <div class="reference">
                    <p><img src="http://spin.ccic.osu.edu//img/reference.png" width="30" >
        Reference</p>     
                <ul>
        <li><a href="javascript:void(0);" onclick="window.open('http://pubs.acs.org/doi/abs/10.1021/acs.analchem.6b03724')"> Bingol, K.; Li, DW.; Zhang, B.; Brüschweiler, R.; Comprehensive metabolite identification strategy using multiple two-dimensional NMR spectra of a complex mixture implemented in the COLMARm web server;  Anal. Chem;  2016, 88, 12411-12418; </a></li>
        </ul>
                
                <img src="http://spin.ccic.osu.edu//img/email.png">
        <a href="mailto:li.4644@osu.edu">Questions or comments? Please feel free to contact us.</a>                

        <p>Acknowledgement</p>
        This web server and the research that led to it is supported by the National Institutes of Health (Grant R01 GM 066041).<br>Most chemical shifts in COLMAR database were retrieved from the existing databases listed below, which all allow public access. 
                <ul>
        <li><a href="javascript:void(0);" onclick="window.open('http://www.hmdb.ca/')"> HMDB</a></li>
        </ul>
                <ul>
        <li><a href="javascript:void(0);" onclick="window.open('http://www.bmrb.wisc.edu/')"> BMRB</a></li>
        </ul>
                <ul>
        <li><a href="javascript:void(0);" onclick="window.open('https://nmrshiftdb.nmr.uni-koeln.de/')"> NMRShiftDB</a></li>
        </ul>
                <ul>
        <li><a href="javascript:void(0);" onclick="window.open('https://www.genome.jp/kegg/')"> KEGG</a></li>
        </ul>
                </div>
        
        
        <p class="footnote">*This information is only used for the compilation of our webserver usage data.</p>
        <p class="footnote">This server is last updated at September 02 2019 08:55:59.</p>
        
        

    <div id="footer">
               <a href="http://www.ohio-state.edu/"><img src="http://spin.ccic.osu.edu//img/OSU-Logo-Footer.png" width="300" height="44" alt="OSU Logo" align="center"></a></br>
       <p align="middle">© 2013, The Ohio State University – Campus Chemical Instrument Center. All Rights Reserved. For questions, please contact lidawei@gmail.com</p>
       
       <div id="keyword"> Metabolomics Metabolic Metabolite Metabolome Small molecule Profiling Metabonomics Databank Database Library Resource Query Search Assign Assignment Annotate Annotation Identify Identification Elucidate Elucidation Customized Algorithm Software NMR Nuclear Magnetic Resonance Spectroscopy Chemical Shift 1H 13C HSQC TOCSY HSQC-TOCSY COSY HMBC CT-TOCSY 1D 2D Dimension One dimensional Two dimensional Covariance DemixC NMR-based Mass spectrometry MS Accurate Mass Structure Reference Platform Carbon Proton Qualitative Bank Biomarker Bioinformatics Natural Product Bruker Varian Complex Mixture Analysis Targeted Untargeted Spectrum Spectra</div>


    </div>
	
</div>
</body>
</html>












